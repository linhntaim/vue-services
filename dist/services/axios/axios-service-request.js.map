{"version":3,"sources":["../../../src/services/axios/axios-service-request.js"],"names":["axios","AxiosServiceRequest","constructor","service","mapMethods","cancelTokenSource","promise","promised","cancel","message","make","method","path","params","doneCallback","errorCallback","alwaysCallback","toLowerCase","get","post","put","delete","send","request","then","catch","createCancelToken","CancelToken","source","token","cancelToken"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\n\r\nexport class AxiosServiceRequest {\r\n    constructor(service, mapMethods = {}) {\r\n        this.service = service\r\n        this.cancelTokenSource = null\r\n        this.promise = null\r\n        this.mapMethods = mapMethods\r\n    }\r\n\r\n    promised() {\r\n        return this.promise\r\n    }\r\n\r\n    cancel(message) {\r\n        if (this.cancelTokenSource) {\r\n            this.cancelTokenSource.cancel(message)\r\n        }\r\n        return this\r\n    }\r\n\r\n    make(method, path, params, doneCallback, errorCallback, alwaysCallback) {\r\n        switch (method.toLowerCase()) {\r\n            case 'get':\r\n                return this.get(path, params, doneCallback, errorCallback, alwaysCallback)\r\n            case 'post':\r\n                return this.post(path, params, doneCallback, errorCallback, alwaysCallback)\r\n            case 'put':\r\n                return this.put(path, params, doneCallback, errorCallback, alwaysCallback)\r\n            case 'delete':\r\n                return this.delete(path, params, doneCallback, errorCallback, alwaysCallback)\r\n        }\r\n        return this\r\n    }\r\n\r\n    send(request, doneCallback, errorCallback, alwaysCallback) {\r\n        this.promise = request.then(doneCallback)\r\n            .catch(errorCallback)\r\n            .then(alwaysCallback)\r\n        return this\r\n    }\r\n\r\n    createCancelToken() {\r\n        this.cancelTokenSource = axios.CancelToken.source()\r\n        return this.cancelTokenSource.token\r\n    }\r\n\r\n    get(path, params, doneCallback, errorCallback, alwaysCallback) {\r\n        if ('get' in this.mapMethods) {\r\n            return this.make(this.mapMethods.get, path, params, doneCallback, errorCallback, alwaysCallback)\r\n        }\r\n        return this.send(\r\n            this.service.get(path, {\r\n                params: params,\r\n                cancelToken: this.createCancelToken(),\r\n            }),\r\n            doneCallback,\r\n            errorCallback,\r\n            alwaysCallback,\r\n        )\r\n    }\r\n\r\n    post(path, params, doneCallback, errorCallback, alwaysCallback) {\r\n        if ('post' in this.mapMethods) {\r\n            return this.make(this.mapMethods.post, path, params, doneCallback, errorCallback, alwaysCallback)\r\n        }\r\n        return this.send(\r\n            this.service.post(path, params, {\r\n                cancelToken: this.createCancelToken(),\r\n            }),\r\n            doneCallback,\r\n            errorCallback,\r\n            alwaysCallback,\r\n        )\r\n    }\r\n\r\n    put(path, params, doneCallback, errorCallback, alwaysCallback) {\r\n        if ('put' in this.mapMethods) {\r\n            return this.make(this.mapMethods.put, path, params, doneCallback, errorCallback, alwaysCallback)\r\n        }\r\n        return this.send(\r\n            this.service.put(path, params, {\r\n                cancelToken: this.createCancelToken(),\r\n            }),\r\n            doneCallback,\r\n            errorCallback,\r\n            alwaysCallback,\r\n        )\r\n    }\r\n\r\n    delete(path, params, doneCallback, errorCallback, alwaysCallback) {\r\n        if ('delete' in this.mapMethods) {\r\n            return this.make(this.mapMethods.delete, path, params, doneCallback, errorCallback, alwaysCallback)\r\n        }\r\n        return this.send(\r\n            this.service.delete(path, {\r\n                params: params,\r\n                cancelToken: this.createCancelToken(),\r\n            }),\r\n            doneCallback,\r\n            errorCallback,\r\n            alwaysCallback,\r\n        )\r\n    }\r\n}"],"file":"axios-service-request.js"}