{"version":3,"sources":["../../../src/services/axios/axios-service-request.js"],"names":["AxiosServiceRequest","service","mapMethods","cancelTokenSource","promise","message","cancel","method","path","params","doneCallback","errorCallback","alwaysCallback","toLowerCase","get","post","put","request","then","axios","CancelToken","source","token","make","send","cancelToken","createCancelToken"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\n\r\nexport class AxiosServiceRequest {\r\n    constructor(service, mapMethods = {}) {\r\n        this.service = service\r\n        this.cancelTokenSource = null\r\n        this.promise = null\r\n        this.mapMethods = mapMethods\r\n    }\r\n\r\n    promised() {\r\n        return this.promise\r\n    }\r\n\r\n    cancel(message) {\r\n        if (this.cancelTokenSource) {\r\n            this.cancelTokenSource.cancel(message)\r\n        }\r\n        return this\r\n    }\r\n\r\n    make(method, path, params, doneCallback, errorCallback, alwaysCallback) {\r\n        switch (method.toLowerCase()) {\r\n            case 'get':\r\n                return this.get(path, params, doneCallback, errorCallback, alwaysCallback)\r\n            case 'post':\r\n                return this.post(path, params, doneCallback, errorCallback, alwaysCallback)\r\n            case 'put':\r\n                return this.put(path, params, doneCallback, errorCallback, alwaysCallback)\r\n            case 'delete':\r\n                return this.delete(path, params, doneCallback, errorCallback, alwaysCallback)\r\n        }\r\n        return this\r\n    }\r\n\r\n    send(request, doneCallback, errorCallback, alwaysCallback) {\r\n        this.promise = request.then(doneCallback)\r\n            .catch(errorCallback)\r\n            .then(alwaysCallback)\r\n        return this\r\n    }\r\n\r\n    createCancelToken() {\r\n        this.cancelTokenSource = axios.CancelToken.source()\r\n        return this.cancelTokenSource.token\r\n    }\r\n\r\n    get(path, params, doneCallback, errorCallback, alwaysCallback) {\r\n        if ('get' in this.mapMethods) {\r\n            return this.make(this.mapMethods.get, path, params, doneCallback, errorCallback, alwaysCallback)\r\n        }\r\n        return this.send(\r\n            this.service.get(path, {\r\n                params: params,\r\n                cancelToken: this.createCancelToken(),\r\n            }),\r\n            doneCallback,\r\n            errorCallback,\r\n            alwaysCallback,\r\n        )\r\n    }\r\n\r\n    post(path, params, doneCallback, errorCallback, alwaysCallback) {\r\n        if ('post' in this.mapMethods) {\r\n            return this.make(this.mapMethods.post, path, params, doneCallback, errorCallback, alwaysCallback)\r\n        }\r\n        return this.send(\r\n            this.service.post(path, params, {\r\n                cancelToken: this.createCancelToken(),\r\n            }),\r\n            doneCallback,\r\n            errorCallback,\r\n            alwaysCallback,\r\n        )\r\n    }\r\n\r\n    put(path, params, doneCallback, errorCallback, alwaysCallback) {\r\n        if ('put' in this.mapMethods) {\r\n            return this.make(this.mapMethods.put, path, params, doneCallback, errorCallback, alwaysCallback)\r\n        }\r\n        return this.send(\r\n            this.service.put(path, params, {\r\n                cancelToken: this.createCancelToken(),\r\n            }),\r\n            doneCallback,\r\n            errorCallback,\r\n            alwaysCallback,\r\n        )\r\n    }\r\n\r\n    delete(path, params, doneCallback, errorCallback, alwaysCallback) {\r\n        if ('delete' in this.mapMethods) {\r\n            return this.make(this.mapMethods.delete, path, params, doneCallback, errorCallback, alwaysCallback)\r\n        }\r\n        return this.send(\r\n            this.service.delete(path, {\r\n                params: params,\r\n                cancelToken: this.createCancelToken(),\r\n            }),\r\n            doneCallback,\r\n            errorCallback,\r\n            alwaysCallback,\r\n        )\r\n    }\r\n}"],"file":"axios-service-request.js"}