{"version":3,"sources":["../../src/base/service-instance.js"],"names":["ServiceInstance","constructor","instance","paramsCallbacks","instanceCallbacks","getInstance","Object","keys","forEach","name","getParams","params","addInstanceCallback","callback","removeInstanceCallback","addParamsCallback","removeParamsCallback"],"mappings":"AAAA,MAAO,MAAMA,CAAAA,eAAgB,CACzBC,WAAW,CAACC,QAAD,CAAW,CAClB,KAAKA,QAAL,CAAgBA,QAAhB,CACA,KAAKC,eAAL,CAAuB,EAAvB,CACA,KAAKC,iBAAL,CAAyB,EAC5B,CAEDC,WAAW,EAAG,CACV,GAAIH,CAAAA,QAAQ,CAAG,MAAO,MAAKA,QAAZ,GAAyB,UAAzB,CACX,KAAKA,QAAL,EADW,CACO,KAAKA,QAD3B,CAEAI,MAAM,CAACC,IAAP,CAAY,KAAKH,iBAAjB,EAAoCI,OAApC,CAA4CC,IAAI,EAAIP,QAAQ,CAAG,KAAKE,iBAAL,CAAuBK,IAAvB,EAA6BP,QAA7B,CAA/D,EACA,MAAOA,CAAAA,QACV,CAEDQ,SAAS,CAACC,MAAD,CAAS,CACdL,MAAM,CAACC,IAAP,CAAY,KAAKJ,eAAjB,EAAkCK,OAAlC,CAA0CC,IAAI,EAAIE,MAAM,CAAG,KAAKP,iBAAL,CAAuBK,IAAvB,EAA6BE,MAA7B,CAA3D,EACA,MAAOA,CAAAA,MACV,CAEDC,mBAAmB,CAACH,IAAD,CAAOI,QAAP,CAAiB,CAChC,KAAKT,iBAAL,CAAuBK,IAAvB,EAA+BI,QAA/B,CACA,MAAO,KACV,CAEDC,sBAAsB,CAACL,IAAD,CAAO,CACzB,GAAIA,IAAI,GAAI,MAAKL,iBAAjB,CAAoC,CAChC,MAAO,MAAKA,iBAAL,CAAuBK,IAAvB,CACV,CACD,MAAO,KACV,CAEDM,iBAAiB,CAACN,IAAD,CAAOI,QAAP,CAAiB,CAC9B,KAAKV,eAAL,CAAqBM,IAArB,EAA6BI,QAA7B,CACA,MAAO,KACV,CAEDG,oBAAoB,CAACP,IAAD,CAAO,CACvB,GAAIA,IAAI,GAAI,MAAKN,eAAjB,CAAkC,CAC9B,MAAO,MAAKA,eAAL,CAAqBM,IAArB,CACV,CACD,MAAO,KACV,CAzCwB","sourcesContent":["export class ServiceInstance {\r\n    constructor(instance) {\r\n        this.instance = instance\r\n        this.paramsCallbacks = {}\r\n        this.instanceCallbacks = {}\r\n    }\r\n\r\n    getInstance() {\r\n        let instance = typeof this.instance === 'function' ?\r\n            this.instance() : this.instance\r\n        Object.keys(this.instanceCallbacks).forEach(name => instance = this.instanceCallbacks[name](instance))\r\n        return instance\r\n    }\r\n\r\n    getParams(params) {\r\n        Object.keys(this.paramsCallbacks).forEach(name => params = this.instanceCallbacks[name](params))\r\n        return params\r\n    }\r\n\r\n    addInstanceCallback(name, callback) {\r\n        this.instanceCallbacks[name] = callback\r\n        return this\r\n    }\r\n\r\n    removeInstanceCallback(name) {\r\n        if (name in this.instanceCallbacks) {\r\n            delete this.instanceCallbacks[name]\r\n        }\r\n        return this\r\n    }\r\n\r\n    addParamsCallback(name, callback) {\r\n        this.paramsCallbacks[name] = callback\r\n        return this\r\n    }\r\n\r\n    removeParamsCallback(name) {\r\n        if (name in this.paramsCallbacks) {\r\n            delete this.paramsCallbacks[name]\r\n        }\r\n        return this\r\n    }\r\n}"],"file":"service-instance.js"}