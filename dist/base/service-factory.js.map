{"version":3,"sources":["../../src/base/service-factory.js"],"names":["ServiceFactory","constructor","services","defaultServiceName","setDefault","serviceName","add","serviceInstance","override","get","factory","modify","callback"],"mappings":"AAAA,MAAO,MAAMA,CAAAA,cAAe,CACxBC,WAAW,CAACC,QAAQ,CAAG,EAAZ,CAAgBC,kBAAkB,CAAG,IAArC,CAA2C,CAClD,KAAKD,QAAL,CAAgBA,QAAhB,CACA,KAAKE,UAAL,CAAgBD,kBAAhB,CACH,CAEDC,UAAU,CAACC,WAAD,CAAc,CACpB,GAAI,EAAEA,WAAW,GAAI,MAAKH,QAAtB,CAAJ,CAAqC,CACjC,KAAM,sBACT,CACD,KAAKC,kBAAL,CAA0BE,WAA1B,CACA,MAAO,KACV,CAEDC,GAAG,CAACD,WAAD,CAAcE,eAAd,CAA+BC,QAAQ,CAAG,KAA1C,CAAiD,CAChD,GAAIH,WAAW,GAAI,MAAKH,QAApB,EAAgC,CAACM,QAArC,CAA+C,CAC3C,KAAM,sBACT,CACD,KAAKN,QAAL,CAAcG,WAAd,EAA6BE,eAA7B,CACA,MAAO,KACV,CAEDE,GAAG,CAACJ,WAAD,CAAc,CACb,MAAOA,CAAAA,WAAW,EAAIA,WAAW,GAAI,MAAKH,QAAnC,CAA8C,KAAKA,QAAL,CAAcG,WAAd,CAA9C,CAA2E,IACrF,CAEDK,OAAO,CAACL,WAAW,CAAG,IAAf,CAAqBE,eAAe,CAAG,IAAvC,CAA6CC,QAAQ,CAAG,IAAxD,CAA8D,CACjE,GAAIH,WAAJ,CAAiB,CACb,GAAIE,eAAJ,CAAqB,CACjB,KAAKD,GAAL,CAASD,WAAT,CAAsBE,eAAtB,CAAuCC,QAAvC,CACH,CACJ,CAJD,IAIO,CACHH,WAAW,CAAG,KAAKF,kBACtB,CACD,MAAO,MAAKM,GAAL,CAASJ,WAAT,CACV,CAEDM,MAAM,CAACC,QAAD,CAAWP,WAAW,CAAG,IAAzB,CAA+B,CACjCO,QAAQ,CAAC,KAAKF,OAAL,CAAaL,WAAb,CAAD,CACX,CAvCuB","sourcesContent":["export class ServiceFactory {\r\n    constructor(services = {}, defaultServiceName = null) {\r\n        this.services = services\r\n        this.setDefault(defaultServiceName)\r\n    }\r\n\r\n    setDefault(serviceName) {\r\n        if (!(serviceName in this.services)) {\r\n            throw 'No service was found'\r\n        }\r\n        this.defaultServiceName = serviceName\r\n        return this\r\n    }\r\n\r\n    add(serviceName, serviceInstance, override = false) {\r\n        if (serviceName in this.services && !override) {\r\n            throw 'No service was found'\r\n        }\r\n        this.services[serviceName] = serviceInstance\r\n        return this\r\n    }\r\n\r\n    get(serviceName) {\r\n        return serviceName && serviceName in this.services ? this.services[serviceName] : null\r\n    }\r\n\r\n    factory(serviceName = null, serviceInstance = null, override = true) {\r\n        if (serviceName) {\r\n            if (serviceInstance) {\r\n                this.add(serviceName, serviceInstance, override)\r\n            }\r\n        } else {\r\n            serviceName = this.defaultServiceName\r\n        }\r\n        return this.get(serviceName)\r\n    }\r\n\r\n    modify(callback, serviceName = null) {\r\n        callback(this.factory(serviceName))\r\n    }\r\n}"],"file":"service-factory.js"}