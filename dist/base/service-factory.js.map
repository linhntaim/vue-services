{"version":3,"sources":["../../src/base/service-factory.js"],"names":["ServiceFactory","services","defaultServiceName","setDefault","serviceName","serviceInstance","override","add","get","callback","factory"],"mappings":"2tBAAaA,CAAAA,c,yBACT,yBAAsD,IAA1CC,CAAAA,QAA0C,2DAA/B,EAA+B,IAA3BC,CAAAA,kBAA2B,2DAAN,IAAM,sCAClD,KAAKD,QAAL,CAAgBA,QAAhB,CACA,KAAKE,UAAL,CAAgBD,kBAAhB,CACH,C,yEAEUE,W,CAAa,CACpB,GAAI,EAAEA,WAAW,GAAI,MAAKH,QAAtB,CAAJ,CAAqC,CACjC,KAAM,sBACT,CACD,KAAKC,kBAAL,CAA0BE,WAA1B,CACA,MAAO,KACV,C,gCAEGA,W,CAAaC,e,CAAmC,IAAlBC,CAAAA,QAAkB,2DAAP,KAAO,CAChD,GAAIF,WAAW,GAAI,MAAKH,QAApB,EAAgC,CAACK,QAArC,CAA+C,CAC3C,KAAM,sBACT,CACD,KAAKL,QAAL,CAAcG,WAAd,EAA6BC,eAA7B,CACA,MAAO,KACV,C,gCAEGD,W,CAAa,CACb,MAAOA,CAAAA,WAAW,EAAIA,WAAW,GAAI,MAAKH,QAAnC,CAA8C,KAAKA,QAAL,CAAcG,WAAd,CAA9C,CAA2E,IACrF,C,yCAEoE,IAA7DA,CAAAA,WAA6D,2DAA/C,IAA+C,IAAzCC,CAAAA,eAAyC,2DAAvB,IAAuB,IAAjBC,CAAAA,QAAiB,2DAAN,IAAM,CACjE,GAAIF,WAAJ,CAAiB,CACb,GAAIC,eAAJ,CAAqB,CACjB,KAAKE,GAAL,CAASH,WAAT,CAAsBC,eAAtB,CAAuCC,QAAvC,CACH,CACJ,CAJD,IAIO,CACHF,WAAW,CAAG,KAAKF,kBACtB,CACD,MAAO,MAAKM,GAAL,CAASJ,WAAT,CACV,C,sCAEMK,Q,CAA8B,IAApBL,CAAAA,WAAoB,2DAAN,IAAM,CACjCK,QAAQ,CAAC,KAAKC,OAAL,CAAaN,WAAb,CAAD,CACX,C","sourcesContent":["export class ServiceFactory {\r\n    constructor(services = {}, defaultServiceName = null) {\r\n        this.services = services\r\n        this.setDefault(defaultServiceName)\r\n    }\r\n\r\n    setDefault(serviceName) {\r\n        if (!(serviceName in this.services)) {\r\n            throw 'No service was found'\r\n        }\r\n        this.defaultServiceName = serviceName\r\n        return this\r\n    }\r\n\r\n    add(serviceName, serviceInstance, override = false) {\r\n        if (serviceName in this.services && !override) {\r\n            throw 'No service was found'\r\n        }\r\n        this.services[serviceName] = serviceInstance\r\n        return this\r\n    }\r\n\r\n    get(serviceName) {\r\n        return serviceName && serviceName in this.services ? this.services[serviceName] : null\r\n    }\r\n\r\n    factory(serviceName = null, serviceInstance = null, override = true) {\r\n        if (serviceName) {\r\n            if (serviceInstance) {\r\n                this.add(serviceName, serviceInstance, override)\r\n            }\r\n        } else {\r\n            serviceName = this.defaultServiceName\r\n        }\r\n        return this.get(serviceName)\r\n    }\r\n\r\n    modify(callback, serviceName = null) {\r\n        callback(this.factory(serviceName))\r\n    }\r\n}"],"file":"service-factory.js"}